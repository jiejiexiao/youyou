"use strict";function randomNumber(e,t){return parseInt(Math.random()*(t-e+1))+e}function randomColor(){return"rgb("+randomNumber(0,255)+","+randomNumber(0,255)+","+randomNumber(0,255)+")"}function rColor(){for(var e="0123456789abcdef",t="#",n=0;n<6;n++)t+=e[parseInt(Math.random()*e.length)];return t}require(["config"],function(){require(["jquery","common","public"],function(){!function(c){var u=c("#carList"),l=c(".youyouCount"),d=c(".shopCount"),p=c(".chajia"),f=c(".rate"),h=c("#header i").has("img"),m=new Date;m.setDate(m.getDate()+1e4);var g=Cookie.get("loginStatus"),v=Cookie.get("username"),x=Cookie.get("goodsData");if(0===(x="string"==typeof x&&""!=x?JSON.parse(x):[]).length){var e=c("<tr/>"),t=c("<td/>");t.text("购物车空空的"),t.css({height:200,lineHeight:"200px",fontSize:"40px",textAlign:"center"}).attr("colspan",6),t.appendTo(e),e.appendTo(u)}else y(x),b(x);function y(e){u.html("");var t=c.map(e,function(e,t){return'<tr data-id="'+e.id+'" data-line="'+(t+1)+'">\n                                <td><img src="../img/'+e.img+'" /><p>'+e.brand+e.classifyForhuman+e.classifyForshoe+e.goodsName+"</p></td>\n                                <td>尺码："+e.size+"</td>\n                                <td><span>"+e.shopPrice+"元</span><span>"+e.youyouPrice+'元</span></td>\n                                <td><span class="jian">-</span><input type="text" value="'+e.qty+'"/><span class="jia">+</span></td>\n                                <td><span>'+e.qty*e.youyouPrice+'元</span></td>\n                                <td><span class="delBtn">删除</span></td>\n                            </tr>'}).join("");u.html(t)}function b(e){for(var t=0,n=0,i=0;i<e.length;i++)t+=1*e[i].youyouPrice*(1*e[i].qty),n+=1*e[i].shopPrice*(1*e[i].qty);l.text(t),d.text(n),p.text(n-t),f.text(Math.ceil((n-t)/n*100))}function n(e){var t=Object.assign({},{ele:"xPopul",title:"温馨提示",content:"是否要删除该商品?",confirmBtn:"confirmBtn",cancelBtn:"cancelBtn",width:400,height:300,overlay:!0},e);this.width=t.width,this.height=t.height,this.overlay=t.overlay,this.ele=t.ele,this.title=t.title,this.content=t.content,this.confirmBtn=t.confirmBtn,this.cancelBtn=t.cancelBtn,this.init()}u.on("click",function(e){e.preventDefault()}).on("mousemove",function(e){e.preventDefault()}).on("click",".jian",function(){var e=c(this).next();if(1*e.val()<=1)e.val(1);else{e.val(1*e.val()-1);var t=c(this).closest("tr").data().id,n=1*c(this).closest("tr").find("td").eq(1).text().slice(3),i=c(this).closest("tr").data().line-1;x[i].qty=1*e.val(),c(this).closest("tr").children().eq(4).children().text(x[i].youyouPrice*e.val()+"元"),Cookie.set("goodsData",JSON.stringify(x),m,"/"),b(x),"online"===g&&c.ajax({url:"../api/userCar.php",data:{username:v,goodId:t,qty:x[i].qty,size:n,type:"unadd"}})}}).on("click",".jia",function(){var e=c(this).prev();e.val(1*e.val()+1);var t=c(this).closest("tr").data().id,n=1*c(this).closest("tr").find("td").eq(1).text().slice(3),i=c(this).closest("tr").data().line-1;x[i].qty=1*e.val(),c(this).closest("tr").children().eq(4).children().text(x[i].youyouPrice*e.val()+"元"),Cookie.set("goodsData",JSON.stringify(x),m,"/"),b(x),"online"===g&&c.ajax({url:"../api/userCar.php",data:{username:v,goodId:t,qty:x[i].qty,size:n,type:"unadd"}})}).on("change","input",function(){/^\d{1,}$/.test(c(this).val())||(alert("请输入正确的数量"),c(this).val(1));var e=c(this).closest("tr").data().line-1;x[e].qty=1*c(this).val();var t=c(this).closest("tr").data().id,n=1*c(this).closest("tr").find("td").eq(1).text().slice(3);c(this).closest("tr").children().eq(4).children().text(x[e].youyouPrice*c(this).val()+"元"),Cookie.set("goodsData",JSON.stringify(x),m,"/"),b(x),"online"===g&&c.ajax({url:"../api/userCar.php",data:{username:v,goodId:t,qty:x[e].qty,size:n,type:"unadd"}})}).on("click",".delBtn",function(){var a=c(this);new n;var e=c(".confirmBtn"),t=c(".cancelBtn"),o=c(".xPopul"),s=c(".xoverlay");e.on("click",function(){var e=a.closest("tr").data().id,t=1*a.closest("tr").find("td").eq(1).text().slice(3),n=a.closest("tr").data().line-1;if(x.splice(n,1),0===x.length){u.html(""),l.text(""),d.text(""),p.text(""),f.text("");var i=c("<tr/>"),r=c("<td/>");r.text("购物车空空的"),r.css({height:200,lineHeight:"200px",fontSize:"40px",textAlign:"center"}).attr("colspan",6),r.appendTo(i),i.appendTo(u)}else y(x),b(x);"online"===g&&c.ajax({url:"../api/userCar.php",data:{username:v,goodId:e,size:t,type:"del"}}),Cookie.set("goodsData",JSON.stringify(x),m,"/"),h.next().text(x.length),o.remove(),s.remove()}),t.on("click",function(){o.remove(),s.remove()})}),n.prototype.init=function(){var e=c("<div/>");e.addClass(this.ele),e.css({width:this.width,height:this.height});var t=c("<div/>");t.addClass("title"),t.text(this.title),t.appendTo(e);var n=c("<div/>");n.addClass("content"),n.text(this.content),n.appendTo(e);var i=c("<span/>");i.addClass(this.confirmBtn),i.text("确定"),i.appendTo(e);var r=c("<span/>");if(r.addClass(this.cancelBtn),r.text("取消"),r.appendTo(e),this.overlay){var a=c("<div/>");a.addClass("xoverlay"),a.appendTo(c("body"))}e.appendTo(c("body"))}}(jQuery)})});var Element={get:function(e){for(var t=[],n=0;n<e.length;n++)1===e[n].nodeType&&t.push(e[n]);return t},children:function(e){for(var t=e.childNodes,n=[],i=0;i<t.length;i++)1===t[i].nodeType&&n.push(t[i]);return n},next:function(e){},prev:function(e){},insertAfter:function(e,t){}};function getCss(e,t){return window.getComputedStyle?getComputedStyle(e)[t]:e.currentStyle?e.currentStyle[t]:e.style[t]}function bind(e,t,n,i){e.addEventListerner?e.addEventListerner(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}var Cookie={get:function(e){var t=document.cookie;if(0===t.length)return"";t=t.split("; ");for(var n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]===e)return i[1]}},set:function(e,t,n,i){var r=e+"="+t;n&&(r+=";expires="+n.toUTCString()),i&&(r+=";path="+i),document.cookie=r},remove:function(e,t){var n=new Date;n.setDate(n.getDate()-1),this.set(e,"x",n,t)},clear:function(){}};function animate(o,e,s){var c=0;for(var t in e)c++,n(t);function n(i){var r=e[i],a=i+"timer";clearInterval(o[a]),o[a]=setInterval(function(){var e=getCss(o,i),t=e.match(/[a-z]+$/i);t=t?t[0]:"",e=parseFloat(e);var n=(r-e)/10;n=0<n?Math.ceil(n):Math.floor(n),"opacity"===i&&(n=0<n?.05:-.05),(e+=n)!==r&&0!==n||(clearInterval(o[a]),e=r,0===--c&&"function"==typeof s&&s()),o.style[i]=e+t},30)}}function ajax(options){var defaults={type:"get",async:!0,status:[200,304],callbackName:"callback"},opt=Object.assign({},defaults,options);opt.type=opt.type.toLowerCase();var params="";if(opt.data){for(var key in opt.data)params+=key+"="+opt.data[key]+"&";params=params.slice(0,-1)}if("get"!==opt.type&&"jsonp"!==opt.type||(opt.url+=(0<=opt.url.indexOf("?")?"&":"?")+params,params=null),"jsonp"===opt.type){var script,fnName="getData"+Date.now();return window[fnName]=function(e){"function"==typeof opt.success&&(opt.success(e),document.body.removeChild(script))},script=document.createElement("script"),script.src=opt.url+"&"+callbackName+"="+fnName,void document.body.appendChild(script)}var xhr=null;try{xhr=new XMLHttpRequest}catch(e){try{xhr=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{xhr=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){alert("你的浏览器太low了，这个世界不适合你")}}}xhr.onload=function(){if(0<=opt.status.indexOf(xhr.status)){var data=xhr.responseText;try{data=JSON.parse(data)}catch(error){try{data=eval("("+data+")")}catch(e){data=xhr.responseText}}"function"==typeof opt.success&&opt.success(data)}},xhr.open(opt.type,opt.url,opt.async),"get"!=opt.type&&xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xhr.send(params)}function type(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}require.config({paths:{jquery:"../lib/jquery-3.2.1",xzoom:"../lib/jquery-xZoom/jquery.xZoom",xcarousel:"../lib/jquery-xcarousel/jquery.xCarousel",md5:"../lib/encryption/md5"},shim:{xzoom:["jquery"],xcarousel:["jquery"],public:["jquery","common"]}}),require(["config"],function(){require(["jquery","common","xzoom","public"],function(){!function(c){var e=c("#main .show"),n=e.find(".title"),i=e.find(".marketPrice"),r=e.find(".shopPrice"),a=e.find(".youyouPrice"),o=e.find(".brand"),s=e.find(".jian"),u=e.find(".jia"),l=c("#counts"),t=c("#btnAdd"),d=c(".one"),p=c(".two"),f=c(".three"),h=e.find(".left"),m=e.find(".imgColor"),g=t.children(),v=c("#header i").has("img");v.on("click",function(){location.href="car.html"});var x=location.search.slice(1).split("=")[1],y=void 0,b=Cookie.get("loginStatus"),q=Cookie.get("username"),C=Cookie.get("goodsData");C="string"==typeof C&&""!=C?JSON.parse(C):[],v.next().text(C.length),c.ajax({url:"../api/goodsDetail.php",data:{id:x},success:function(e){y=JSON.parse(e)[0],d.text(y.classifyForshoe),p.text(y.classifyForhuman),f.text(""+y.brand+y.classifyForhuman+y.classifyForshoe+y.goodsName+" "+y.color),n.text(""+y.brand+y.classifyForhuman+y.classifyForshoe+y.goodsName+" "+y.color),i.text(y.marketPrice+"元"),r.text(y.shopPrice),a.text(y.youyouPrice),o.text(y.brand),g.html('<img src="../img/'+y.img+'"/>'),h.html('<img src="../img/'+y.img+'" data-big="../img/'+y.img+'" />');var t=c('<img src="../img/'+y.img+'">');m.append(t),m.find("img").eq(0).addClass("active"),m.next().find("span").eq(0).addClass("active"),m.on("click","img",function(){c(this).toggleClass("active")}).next().on("click","span",function(){c(this).addClass("active"),c(this).siblings().removeClass("active")}),l.val(1),s.on("click",function(e){var t=l.val()-1;t<1&&(t=1),l.val(t)}),u.on("click",function(e){var t=1*l.val()+1;l.val(t)}),l.on("change",function(){/^\d{1,}$/.test(l.val())||(alert("请输入正确的数量"),l.val(1))}),h.xZoom({width:402,gap:50,position:"right"})}}),t.on("click",function(){var e=new Date;e.setDate(e.getDate()+1e4);for(var t=1*l.val(),n=1*m.next().find(".active").text(),i=void 0,r=(C.some(function(e,t){return e.id===x&&t,e.id===x}),C.some(function(e,t){return e.id===x&&e.size===n})),a=[],o=0;o<C.length;o++)C[o].id===x&&a.push(o);for(var s=0;s<a.length;s++)C[a[s]].size===n&&(i=a[s]);r?(C[i].qty=1*C[i].qty+t,"online"===b&&c.ajax({url:"../api/userCar.php",data:{username:q,goodId:x,qty:C[i].qty,size:n,type:"unadd"}})):(y.qty=t,y.size=n,C.push(JSON.parse(JSON.stringify(y))),"online"===b&&c.ajax({url:"../api/userCar.php",data:{username:q,goodId:x,qty:t,size:n,type:"add"}})),Cookie.set("goodsData",JSON.stringify(C),e,"/"),v.next().text(C.length)}).on("click",function(){g.stop().css({right:-80,top:-50}),g.fadeIn(200,function(){g.animate({right:-360,top:-530},800,function(){g.fadeOut(200,function(){g.css({right:-80,top:-50})})})})})}(jQuery)})}),require(["config"],function(){require(["jquery","common","xcarousel"],function(){jQuery(function(e){var t=e("#banner"),n=e("#header").find(":text");n.next(),e("#header i").has("img").on("click",function(){location.href="html/car.html"});var i=e(window).width();t.xCarousel({width:i,height:700,type:"fade",imgs:["img/20161220srhdhj.jpg","img/20161228qlksse.jpg","img/20170112dexkdc.jpg","img/20170508rrufts.gif"],seamless:!0,page:!0}),e(window).on("resize",function(){i=e(window).width(),t.html(""),t.xCarousel({width:i,height:700,type:"fade",imgs:["img/20161220srhdhj.jpg","img/20161228qlksse.jpg","img/20170112dexkdc.jpg","img/20170508rrufts.gif"],seamless:!0,page:!0})});var r=n.val();n.on("focus",function(){n.val(""),n.css("border","1px solid blue")}).on("blur",function(){n.val(r),n.css("border","1px solid #000")})}),$(function(e){var t=e("#header i").has("img"),n=e("#header .h_center .c_right").children(),i=Cookie.get("goodsData");i="string"==typeof i&&""!=i?JSON.parse(i):[],t.next().text(i.length);if("online"===Cookie.get("loginStatus")){var r=Cookie.get("username");n.addClass("none").last().removeClass("none").find("a").first().text(r).css("color","red"),n.eq(1).find("a").eq(2).click(function(){n.addClass("none").first().removeClass("none"),Cookie.set("loginStatus","offline","","/"),Cookie.remove("goodsData","/"),e.ajax({url:"api/userLoginStatus.php",data:{username:r,status:"offline"}}),location.reload()})}})})}),require(["config"],function(){require(["jquery","common","public"],function(){jQuery(function(a){var n=a(".goodLists"),t=n.prev().children(),o=a("#page"),i=a("#main .selected").find(".right"),e=a("#header i").has("img"),s=void 0,r=["update","lower","upper","new","sell"],c=void 0,u="男鞋",l="全部",d="全部",p=void 0,f=void 0,h=void 0;function m(e){n.html("");var t=a.map(e,function(e,t){var n=a("<li/>");return n.attr("data-id",e.id),n.html('<img src="../img/'+e.img+'"/>\n                            <p>'+e.brand+e.classifyForhuman+e.classifyForshoe+e.goodsName+" "+e.color+'</p>\n                            <p>本店价<span class="price">'+e.youyouPrice+'</span><span class="counts">售出（0）件</span></p>\n                            '),n});n.append(t)}e.on("click",function(){location.href="car.html"}),a.ajax({url:"../api/goodsList.php",data:{type:"new",qty:20,classify:u,brand:l,priceRang:d,priceRangMin:p,priceRangMax:f,size:h},success:function(e){s=JSON.parse(e).data;var t=JSON.parse(e).counts;m(s);for(var n=Math.ceil(t/20),i=0;i<n;i++){var r=a("<span/>");r.text(i+1),0==i&&r.addClass("active"),o.append(r)}}}),n.on("mouseenter","li",function(){a(this).addClass("active")}).on("mouseleave","li",function(){a(this).removeClass("active")}).on("click","li",function(){var e=a(this).attr("data-id");location.href="goodDetail.html?id="+e}),o.on("click","span",function(){a(this).addClass("active").siblings().removeClass("active"),page=a(this).text(),ajax({url:"../api/goodsList.php",data:{page:page,qty:20,type:r[c],classify:u,brand:l,priceRang:d,priceRangMin:p,priceRangMax:f,size:h},success:function(e){m(s=e.data)}})}),t.on("click","li",function(){a(this).addClass("active").siblings().removeClass("active");for(var e=0;e<r.length;e++)t.children().eq(e).get(0)==this&&(c=e);a.ajax({url:"../api/goodsList.php",data:{type:r[c],classify:u,brand:l,priceRang:d,priceRangMin:p,priceRangMax:f,size:h},success:function(e){s=JSON.parse(e).data;var t=JSON.parse(e).counts;m(s),o.html("");for(var n=Math.ceil(t/20),i=0;i<n;i++){var r=a("<span/>");r.text(i+1),0==i&&r.addClass("active"),o.append(r)}}})}),i.on("click","span",function(e){a(this).closest(".right").find("span").removeClass("active"),a(this).addClass("active"),e.preventDefault();var t=i.find(".active");u=t.eq(0).text(),l=t.eq(1).text(),d=t.eq(2).text(),h=t.eq(3).text(),p=d.split("-")[0]||null,f=d.split("-")[1]||null,a.ajax({url:"../api/goodsList.php",data:{type:r[c],classify:u,brand:l,priceRang:d,priceRangMin:p,priceRangMax:f,size:h},success:function(e){s=JSON.parse(e).data;var t=JSON.parse(e).counts;m(s),o.html("");for(var n=Math.ceil(t/20),i=0;i<n;i++){var r=a("<span/>");r.text(i+1),0==i&&r.addClass("active"),o.append(r)}}})})})})}),require(["config"],function(){require(["jquery","common","md5","loginStatus"],function(){jQuery(function(i){var r=i("#username"),a=i("#password"),t=i("#vCode"),e=t.prev(),n=i("#btn");e.text(randomNumber(1e3,9999)),e.on("click",function(){e.text(randomNumber(1e3,9999))}),t.on("focus",function(){t.css("border-color","blue"),t.next().text("*").removeClass("active")}).on("blur",function(){e.text()==t.val().trim()?t.next().text("验证码确认成功").addClass("active"):t.next().text("验证码确认错误")}),r.on("focus",function(){r.css("border-color","blue"),r.next().text("").removeClass("active")}).on("blur",function(){r.css("border-color","#B3B3B3")}),a.on("focus",function(){a.css("border-color","blue"),a.next().text("").removeClass("active")}).on("blur",function(){a.css("border-color","#B3B3B3")}),n.on("click",function(){var n=r.val().trim(),e=a.val().trim();""!=n?""!=e?""!=t.val().trim()?t.next().hasClass("active")&&(e=hex_md5(e),i.ajax({url:"../api/login.php",data:{username:n,password:e},success:function(e){if("fail_user"==e&&r.next().text("用户名输入错误"),"fail_psd"==e&&a.next().text("密码输入错误"),"success"==e){var t=new Date;t.setDate(t.getDate()+7),i.ajax({url:"../api/userLoginStatus.php",data:{username:n,status:"online"},success:function(e){"success"==e?(alert("登陆成功"),i.ajax({url:"../api/userCar.php",data:{username:n,type:"get"},success:function(e){console.log(e),Cookie.set("loginStatus","online",t,"/"),Cookie.set("username",n,t,"/"),Cookie.set("goodsData",e,"","/"),location.href="../index.html"}})):alert("登陆失败")}})}}})):t.next().text("请输入验证码"):a.next().text("请输入密码"):r.next().text("请输入用户名")})})})}),require(["config"],function(){require(["jquery","common"],function(){"online"==Cookie.get("loginStatus")&&(alert("你已经登陆"),location.href="../index.html")})}),jQuery(function(e){var t=e("#header i").has("img"),n=e("#header .h_center .c_right").children(),i=Cookie.get("goodsData");if(i="string"==typeof i&&""!=i?JSON.parse(i):[],t.next().text(i.length),"online"===Cookie.get("loginStatus")){var r=Cookie.get("username");n.addClass("none").last().removeClass("none").find("a").first().text(r).css("color","red"),n.eq(1).find("a").eq(2).click(function(){n.addClass("none").first().removeClass("none"),Cookie.set("loginStatus","offline","","/"),Cookie.remove("goodsData","/"),e.ajax({url:"../api/userLoginStatus.php",data:{username:r,status:"offline"}}),location.reload()})}}),require(["config"],function(){require(["jquery","common","md5","loginStatus"],function(){jQuery(function(i){var r=i("#username"),o=i("#password"),a=i("#email"),s=i("#passwordSure"),e=i(".psdStrong"),c=i("#vCode"),t=c.prev(),u=i("#selected"),n=i("#btn"),l=e.children();r.on("focus",function(){r.css("border-color","blue"),r.next().text("*").removeClass("active")}).on("blur",function(){r.css("border-color","#B3B3B3");var e=r.val().trim();console.log(e),e.length<3?r.next().text("用户名不能少于3个字"):/^[a-z\d]{3,18}$/i.test(e)?i.ajax({url:"../api/reg.php",data:{username:e},success:function(e){"success"==e?r.next().text("用户名合法").addClass("active"):r.next().text("用户名已经存在")}}):r.next().text("用户名只能是字母和数字组合，3~18个字")}),a.on("focus",function(){a.css("border-color","blue"),a.next().text("*").removeClass("active")}).on("blur",function(){a.css("border-color","#B3B3B3");var e=a.val().trim();/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/.test(e)?a.next().text("邮箱合法").addClass("active"):a.next().text("邮箱不合法")}),o.on("focus",function(){o.css("border-color","blue"),o.next().text("*").removeClass("active")}).on("blur",function(){o.css("border-color","#B3B3B3");var e=o.val().trim();e.length<6?(o.next().text("请输入6位及以上密码"),l.removeClass("activePsd")):/^[a-z0-9_-]{6,18}$/.test(e)?o.next().text("密码合法").addClass("active"):(o.next().text("密码不合法"),l.removeClass("activePsd"))}).on("keyup",function(){var e=o.val().trim();if(!(e.length<6)){for(var t=e.toUpperCase(),n=!1,i=!1,r=!1,a=0;a<t.length;a++)isNaN(t[a])?65<=t.charCodeAt(a)&&t.charCodeAt(a)<=90?i=!0:r=!0:n=!0;l.removeClass("activePsd"),r&&(i||n)?l.addClass("activePsd"):i&&n?l.last().siblings().addClass("activePsd"):r||i||n?l.first().addClass("activePsd"):l.removeClass("activePsd")}}),s.on("focus",function(){s.css("border-color","blue"),s.next().text("*").removeClass("active")}).on("blur",function(){o.next().hasClass("active")&&(o.val().trim()==s.val().trim()?s.next().text("密码确认成功").addClass("active"):s.next().text("密码确认错误"))}),t.text(randomNumber(1e3,9999)),t.on("click",function(){t.text(randomNumber(1e3,9999))}),c.on("focus",function(){c.css("border-color","blue"),c.next().text("*").removeClass("active")}).on("blur",function(){t.text()==c.val().trim()?c.next().text("验证码确认成功").addClass("active"):c.next().text("验证码确认错误")}),n.on("click",function(){if(r.next().hasClass("active"))if(o.next().hasClass("active"))if(a.next().hasClass("active"))if(s.next().hasClass("active"))if(c.next().hasClass("active"))if(u.prop("checked")){var n=r.val().trim(),e=a.val().trim(),t=o.val().trim();t=hex_md5(t),i.ajax({url:"../api/reg.php",data:{password:t,username:n,email:e,type:"reg"},success:function(e){if("success"==e){alert("注册成功");var t=new Date;t.setDate(t.getDate()+7),i.ajax({url:"../api/userLoginStatus.php",data:{username:n,status:"online"},success:function(e){console.log(e),"success"==e?(Cookie.set("loginStatus","online",t,"/"),Cookie.set("username",n,t,"/"),location.href="../index.html"):alert("登陆失败")}})}else alert("注册失败")}})}else alert("请勾选同意框");else c.next().text("请填写验证码");else s.next().text("请确认密码");else a.next().text("请填写邮箱");else o.next().text("请填写密码");else r.next().text("请填写用户名")})})})});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},requirejs,_require,define;!function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.5",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var n;if(e)for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){var n;if(e)for(n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));n-=1);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(n,e,i,r){return e&&eachProp(e,function(e,t){!i&&hasProp(n,t)||(!r||"object"!==(void 0===e?"undefined":_typeof(e))||!e||isArray(e)||isFunction(e)||e instanceof RegExp?n[t]=e:(n[t]||(n[t]={}),mixin(n[t],e,i,r)))}),n}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===_require||isFunction(_require)||(cfg=_require,_require=void 0),req=requirejs=function(e,t,n,i){var r,a,o=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=n,n=i):e=[]),a&&a.context&&(o=a.context),(r=getOwn(contexts,o))||(r=contexts[o]=req.s.newContext(o)),a&&r.configure(a),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},_require||(_require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=e.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(t,n,i){var e,r=t&&t.config||{};if(isBrowser)return(e=req.createNode(r,n,i)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",n),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=i,r.onNodeCreated&&r.onNodeCreated(e,r,n,i),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(i),t.completeLoad(n)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+n+" at "+i,e,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,n,t){var i,r;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript())&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")]),r?(r.defQueue.push([e,n,t]),r.defQueueMap[e]=!0):globalDefQueue.push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(c){var n,e,f,u,l,g={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},d={},p={},i={},h=[],m={},r={},v={},x=1,y=1;function b(e,t,n){var i,r,a,o,s,c,u,l,d,p,f=t&&t.split("/"),h=g.map,m=h&&h["*"];if(e&&(c=(e=e.split("/")).length-1,g.nodeIdCompat&&jsSuffixRegExp.test(e[c])&&(e[c]=e[c].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&f&&(e=f.slice(0,f.length-1).concat(e)),function(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;0<t&&(e.splice(t-1,2),t-=2)}}(e),e=e.join("/")),n&&h&&(f||m)){e:for(a=(r=e.split("/")).length;0<a;a-=1){if(s=r.slice(0,a).join("/"),f)for(o=f.length;0<o;o-=1)if((i=getOwn(h,f.slice(0,o).join("/")))&&(i=getOwn(i,s))){u=i,l=a;break e}!d&&m&&getOwn(m,s)&&(d=getOwn(m,s),p=a)}!u&&d&&(u=d,l=p),u&&(r.splice(0,l,u),e=r.join("/"))}return getOwn(g.pkgs,e)||e}function q(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===f.contextName)return e.parentNode.removeChild(e),!0})}function C(e){var t=getOwn(g.paths,e);if(t&&isArray(t)&&1<t.length)return t.shift(),f.require.undef(e),f.makeRequire(null,{skipMap:!0})([e]),!0}function k(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function w(e,t,n,i){var r,a,o,s,c=null,u=t?t.name:null,l=e,d=!0,p="";return e||(d=!1,e="_@r"+(x+=1)),c=(s=k(e))[0],e=s[1],c&&(c=b(c,u,i),a=getOwn(m,c)),e&&(c?p=n?e:a&&a.normalize?a.normalize(e,function(e){return b(e,u,i)}):-1===e.indexOf("!")?b(e,u,i):e:(c=(s=k(p=b(e,u,i)))[0],p=s[1],n=!0,r=f.nameToUrl(p))),{prefix:c,name:p,parentMap:t,unnormalized:!!(o=!c||a||n?"":"_unnormalized"+(y+=1)),url:r,originalName:l,isDefine:d,id:(c?c+"!"+p:p)+o}}function S(e){var t=e.id,n=getOwn(d,t);return n||(n=d[t]=new f.Module(e)),n}function j(e,t,n){var i=e.id,r=getOwn(d,i);!hasProp(m,i)||r&&!r.defineEmitComplete?(r=S(e)).error&&"error"===t?n(r.error):r.on(t,n):"defined"===t&&n(m[i])}function E(n,e){var t=n.requireModules,i=!1;e?e(n):(each(t,function(e){var t=getOwn(d,e);t&&(t.error=n,t.events.error&&(i=!0,t.emit("error",n)))}),i||req.onError(n))}function O(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(f.defQueueMap[t]=!0),h.push(e)}),globalDefQueue=[])}function M(e){delete d[e],delete p[e]}function N(){var e,i,t=1e3*g.waitSeconds,r=t&&f.startTime+t<(new Date).getTime(),a=[],o=[],s=!1,c=!0;if(!n){if(n=!0,eachProp(p,function(e){var t=e.map,n=t.id;if(e.enabled&&(t.isDefine||o.push(e),!e.error))if(!e.inited&&r)C(n)?s=i=!0:(a.push(n),q(n));else if(!e.inited&&e.fetched&&t.isDefine&&(s=!0,!t.prefix))return c=!1}),r&&a.length)return(e=makeError("timeout","Load timeout for modules: "+a,null,a)).contextName=f.contextName,E(e);c&&each(o,function(e){!function r(a,o,s){var e=a.map.id;a.error?a.emit("error",a.error):(o[e]=!0,each(a.depMaps,function(e,t){var n=e.id,i=getOwn(d,n);!i||a.depMatched[t]||s[n]||(getOwn(o,n)?(a.defineDep(t,m[n]),a.check()):r(i,o,s))}),s[e]=!0)}(e,{},{})}),r&&!i||!s||!isBrowser&&!isWebWorker||l||(l=setTimeout(function(){l=0,N()},50)),n=!1}}function o(e){hasProp(m,e[0])||S(w(e[0],null,!0)).init(e[1],e[2])}function a(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function s(e){var t=e.currentTarget||e.srcElement;return a(t,f.onScriptLoad,"load","onreadystatechange"),a(t,f.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function P(){var e;for(O();h.length;){if(null===(e=h.shift())[0])return E(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));o(e)}f.defQueueMap={}}return u={require:function(e){return e.require?e.require:e.require=f.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?m[e.map.id]=e.exports:e.exports=m[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(g.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(e=function(e){this.events=getOwn(i,e.id)||{},this.map=e,this.shim=getOwn(g.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,f.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();f.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;r[e]||(r[e]=!0,f.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,e,n=this.map.id,i=this.depExports,r=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=f.execCb(n,a,i,r)}catch(e){t=e}else r=f.execCb(n,a,i,r);if(this.map.isDefine&&void 0===r&&((e=this.module)?r=e.exports:this.usingExports&&(r=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",E(this.error=t)}else r=a;if(this.exports=r,this.map.isDefine&&!this.ignore&&(m[n]=r,req.onResourceLoad)){var o=[];each(this.depMaps,function(e){o.push(e.normalizedMap||e)}),req.onResourceLoad(f,this.map,o)}M(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(f.defQueueMap,n)||this.fetch()}},callPlugin:function(){var c=this.map,u=c.id,e=w(c.prefix);this.depMaps.push(e),j(e,"defined",bind(this,function(e){var a,t,n,i=getOwn(v,this.map.id),r=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,s=f.makeRequire(c.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(r=e.normalize(r,function(e){return b(e,o,!0)})||""),j(t=w(c.prefix+"!"+r,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((n=getOwn(d,t.id))&&(this.depMaps.push(t),this.events.error&&n.on("error",bind(this,function(e){this.emit("error",e)})),n.enable()))):i?(this.map.url=f.nameToUrl(i),void this.load()):((a=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[u],eachProp(d,function(e){0===e.map.id.indexOf(u+"_unnormalized")&&M(e.map.id)}),E(e)}),a.fromText=bind(this,function(e,t){var n=c.name,i=w(n),r=useInteractive;t&&(e=t),r&&(useInteractive=!1),S(i),hasProp(g.config,u)&&(g.config[n]=g.config[u]);try{req.exec(e)}catch(e){return E(makeError("fromtexteval","fromText eval for "+u+" failed: "+e,e,[u]))}r&&(useInteractive=!0),this.depMaps.push(i),f.completeLoad(n),s([n],a)}),void e.load(c.name,s,a,g))})),f.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(p[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=w(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(u,e.id))return void(this.depExports[t]=r(this));this.depCount+=1,j(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?j(e,"error",bind(this,this.errback)):this.events.error&&j(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,i=d[n],hasProp(u,n)||!i||i.enabled||f.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(d,e.id);t&&!t.enabled&&f.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(f={config:g,contextName:c,registry:d,defined:m,urlFetched:r,defQueue:h,defQueueMap:{},Module:e,makeModuleMap:w,nextTick:req.nextTick,onError:E,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var n=e.urlArgs;e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+n}}var i=g.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(g[t]||(g[t]={}),mixin(g[t],e,!0,!0)):g[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(v[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=f.makeShimExports(e)),i[t]=e}),g.shim=i),e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(g.paths[t]=e.location),g.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(d,function(e,t){e.inited||e.map.unnormalized||(e.map=w(t,null,!0))}),(e.deps||e.callback)&&f.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}},makeRequire:function(a,o){function s(e,t,n){var i,r;return o.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?E(makeError("requireargs","Invalid require call"),n):a&&hasProp(u,e)?u[e](d[a.id]):req.get?req.get(f,e,a,s):(i=w(e,a,!1,!0).id,hasProp(m,i)?m[i]:E(makeError("notloaded",'Module name "'+i+'" has not been loaded yet for context: '+c+(a?"":". Use require([])")))):(P(),f.nextTick(function(){P(),(r=S(w(null,a))).skipMap=o.skipMap,r.init(e,t,n,{enabled:!0}),N()}),s)}return o=o||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),i=e.split("/")[0];return-1!==n&&(!("."===i||".."===i)||1<n)&&(t=e.substring(n,e.length),e=e.substring(0,n)),f.nameToUrl(b(e,a&&a.id,!0),t,!0)},defined:function(e){return hasProp(m,w(e,a,!1,!0).id)},specified:function(e){return e=w(e,a,!1,!0).id,hasProp(m,e)||hasProp(d,e)}}),a||(s.undef=function(n){O();var e=w(n,a,!0),t=getOwn(d,n);t.undefed=!0,q(n),delete m[n],delete r[e.url],delete i[n],eachReverse(h,function(e,t){e[0]===n&&h.splice(t,1)}),delete f.defQueueMap[n],t&&(t.events.defined&&(i[n]=t.events),M(n))}),s},enable:function(e){getOwn(d,e.id)&&S(e).enable()},completeLoad:function(e){var t,n,i,r=getOwn(g.shim,e)||{},a=r.exports;for(O();h.length;){if(null===(n=h.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);o(n)}if(f.defQueueMap={},i=getOwn(d,e),!t&&!hasProp(m,e)&&i&&!i.inited){if(!(!g.enforceDefine||a&&getGlobal(a)))return C(e)?void 0:E(makeError("nodefine","No define call for "+e,null,[e]));o([e,r.deps||[],r.exportsFn])}N()},nameToUrl:function(e,t,n){var i,r,a,o,s,c,u=getOwn(g.pkgs,e);if(u&&(e=u),c=getOwn(v,e))return f.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(i=g.paths,a=(r=e.split("/")).length;0<a;a-=1)if(s=getOwn(i,r.slice(0,a).join("/"))){isArray(s)&&(s=s[0]),r.splice(0,a,s);break}o=r.join("/"),o=("/"===(o+=t||(/^data\:|^blob\:|\?/.test(o)||n?"":".js")).charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":g.baseUrl)+o}return g.urlArgs&&!/^blob\:/.test(o)?o+g.urlArgs(e,o):o},load:function(e,t){req.load(f,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=s(e);f.completeLoad(t.id)}},onScriptError:function(e){var n=s(e);if(!C(n.id)){var i=[];return eachProp(d,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===n.id)return i.push(t),!0})}),E(makeError("scripterror",'Script error for "'+n.id+(i.length?'", needed by: '+i.join(", "):'"'),e,[n.id]))}}}).require=f.makeRequire(),f}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(void 0,"undefined"==typeof setTimeout?void 0:setTimeout);